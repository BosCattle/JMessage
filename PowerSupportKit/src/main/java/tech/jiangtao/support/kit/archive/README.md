# 数据库同步
- service运行的时候从本地检查数据库检查是否有数据，
无数据从远程拉取有关用户所有的聊天数据。本地数据库中记录最后更改时间。

- 进行一次聊天则根据时间同步一次数据，每次从本地数据库中读取数据。

- 在收到推送的时候，先更新ui，后台保存数据。

- 根据线程id保证数据的唯一性。

- 清空历史消息，保证前台与后台一起清理。


